<% layout('/layouts/boiler') -%>
<style>
#filters {
        display: flex;
        flex-wrap: nowrap; /* Prevent wrapping */
        overflow-x: auto; /* Enable horizontal scrolling */
        /* -webkit-overflow-scrolling: touch; Enable smooth scrolling on iOS */
    }

    .filter {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-right: 1.2rem; /* Adjust as needed */
        opacity: .7;
    }
    .filter:hover{
        opacity: 1;
        cursor: pointer;
    }
    .tax-info{
        display: none;
    }
    .taxToggle{
        border : 1px solid black;
        border-radius: 1.2rem;
        margin: auto;
        align-items: center;
        margin-bottom: 0.5rem;
        padding-left: 1rem;
        padding-right: 1rem;
        height: 3rem;
    }
</style>
    <body>
    <div id="filters">
        <div class="filter">
            <i class="fa-solid fa-fire"></i>
            <p>Trending</p>
        </div>
        <div class="filter">
            <i class="fa-solid fa-hotel"></i>
            <p>Historical homes</p>
            
        </div>
        <div class="filter">
            <i class="fa-solid fa-person-swimming"></i>
            <p>Beach</p>
        </div>
        <div class="filter">
            <i class="fa-solid fa-house"></i>
            <p>Cabin</p>
        </div>
        <div class="filter">
            <i class="fa-solid fa-water-ladder"></i>
            <p>Amazing pool</p>
        </div>
        <div class="filter">
            <i class="fa-solid fa-key"></i>
            <p>New</p>
        </div>
        <div class="filter">
            <i class="fa-solid fa-mountain"></i>
            <p>Mountains</p>
        </div>
        <div class="filter">
            <i class="fa-solid fa-baseball-bat-ball"></i>
            <p>Play</p>
        </div>
        <div class="filter">
            <i class="fa-solid fa-mountain-sun"></i>
            <p>Amazing views</p>
            
        </div>
        <div class="filter">
            <i class="fa-solid fa-igloo"></i>
            <p>Domes</p>
        </div>
        <div class="filter">
            <i class="fa-solid fa-water"></i>
            <p>Lakes</p>
        </div>
        <div class="taxToggle">
            <div class="form-check-reverse form-switch mt-2">
                <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
                <label class="form-check-label" for="flexSwitchCheckDefault">Display total after taxes</label>
              </div>
        </div>
           
    </div>
    <div class="row row-cols-lg-4 row-cols-md-3 row-cols-sm-2">
        
        <%for(let data of alldata){%>
            <a class="listing-link" href="/listings/<%=data._id %>">
            <div class="card col listing-card">
                <img src="<%=data.image%>" class="card-img-top" alt="...">
                <div class="card-img-overlay">
                  </div>
                <div class="card-body">
                    <p class="card-text">
                        <b><%= data.title %></b> <br>
                            <%= data.price ? 'â‚¹' + data.price.toLocaleString('en-IN') : 'Price not available' %> /night
                            <i class="tax-info"> &nbsp; &nbsp;+18%gst</i>
                    </p>
                </div>
            </div>
        </a>
            <%}%>
        
    </div>
    </body>

    <script>
        let taxSwitch = document.getElementById("flexSwitchCheckDefault");
        taxSwitch.addEventListener("click", () =>{
            let taxInfo = document.getElementsByClassName("tax-info");
            for(info of taxInfo){
                if(info.style.display != "inline"){
                    info.style.display = "inline";
                }
                else{
                    info.style.display = "none";
                }
            }
        })
    </script>